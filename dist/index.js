function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react-hot-loader"),n=e(require("react")),r=e(require("react-dom")),o=e(require("lodash")),i=require("path"),a=require("fs"),c=require("webpack-merge"),u=e(require("webpack")),s={},l={init:function(e,t){window.ReactRailsUJS.mountComponents=l.mountComponents,e.hot&&e.hot.accept(l.hmrModules(),function(e){l.fixDeps(e).forEach(function(e){return t(e)}),window.ReactRailsUJS.mountComponents()})},fixDeps:function(e){return o(e).flatten().uniq().value()},hmrModules:function(){return HMR_MODULES.map(function(e){return require.context("../").resolve(e)})},mountComponents:function(e){for(var o=window.ReactRailsUJS,i=o.findDOMNodes(e),a=0;a<i.length;++a){var c=i[a],u=c.getAttribute(o.CLASS_NAME_ATTR),l=o.getConstructor(u),p=c.getAttribute(o.PROPS_ATTR),f=p&&JSON.parse(p),d=c.getAttribute(o.RENDER_ATTR),h=c.getAttribute(o.CACHE_ID_ATTR),R=c.hasAttribute(o.TURBOLINKS_PERMANENT_ATTR);if(!l){var m="Cannot find component: '"+u+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+m+" for element","font-weight: bold","",c),new Error(m+". Make sure your component is available to render.")}var g=s[h];void 0===g&&(g=n.createElement(l,f),R&&(s[h]=g)),d&&"function"==typeof r.hydrate?r.hydrate(n.createElement(t.AppContainer,{},g),c):r.render(n.createElement(t.AppContainer,{},g),c)}}},p=function(){function e(e){this.webpackConfig=e}var t=e.prototype;return t.walkSync=function(e,t){var n=this;return void 0===t&&(t=[]),a.readdirSync(e).forEach(function(r){var o=i.join(e,r);o.includes(".DS_Store")||o.includes("packs")||(a.statSync(o).isDirectory()?t=n.walkSync(o,t):t.push("./"+i.relative("app/javascript",o)))}),t},t.packFiles=function(){return this.walkSync("app/javascript")},t.entries=function(){var e=this;return Object.keys(this.webpackConfig.entry).reduce(function(t,n){return t[n]=["react-hot-loader/patch",e.webpackConfig.entry[n]],t},{})},t.reactRailsHotReloadConfig=function(){return{devtool:"cheap-eval-source-map",entry:this.entries(),output:{publicPath:"http://localhost:3035/packs/"},plugins:[new u.DefinePlugin({HMR_MODULES:JSON.stringify(this.packFiles())})],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}},watch:!1}},t.merge=function(e){return this.webpackConfig=e,c.merge(this.webpackConfig,this.reactRailsHotReloadConfig())},e}();exports.ReactRailsHotReload=l,exports.ReactRailsHotReloadConfig=p;
//# sourceMappingURL=index.js.map

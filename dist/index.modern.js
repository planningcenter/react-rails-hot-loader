import"react-hot-loader";import"react";import"react-dom";import"lodash";import{join as t,relative as e}from"path";import{readdirSync as o,statSync as r}from"fs";import{merge as a}from"webpack-merge";import i from"webpack";const c={init:function(t,e){console.log("-----------------------------------------"),console.log(window.ReactRailsUJS),console.log("-----------------------------------------")}};class s{constructor(t){this.webpackConfig=t}walkSync(a,i=[]){return o(a).forEach(o=>{const c=t(a,o);c.includes(".DS_Store")||c.includes("packs")||(r(c).isDirectory()?i=this.walkSync(c,i):i.push("./"+e("app/javascript",c)))}),i}packFiles(){return this.walkSync("app/javascript")}entries(){return Object.keys(this.webpackConfig.entry).reduce((t,e)=>(t[e]=["react-hot-loader/patch",this.webpackConfig.entry[e]],t),{})}reactRailsHotReloadConfig(){return{devtool:"cheap-eval-source-map",entry:this.entries(),output:{publicPath:"http://localhost:3035/packs/"},plugins:[new i.DefinePlugin({HMR_MODULES:JSON.stringify(this.packFiles())})],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}},watch:!1}}merge(t){return this.webpackConfig=t,a(this.webpackConfig,this.reactRailsHotReloadConfig())}}export{c as ReactRailsHotReload,s as ReactRailsHotReloadConfig};
//# sourceMappingURL=index.modern.js.map

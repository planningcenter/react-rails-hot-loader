!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-hot-loader"),require("react"),require("react-dom"),require("lodash"),require("path"),require("fs"),require("webpack-merge"),require("webpack")):"function"==typeof define&&define.amd?define(["exports","react-hot-loader","react","react-dom","lodash","path","fs","webpack-merge","webpack"],t):t((e=e||self).reactRailsHotReload={},e.reactHotLoader,e.react,e.reactDom,e.lodash,e.path,e.fs,e.webpackMerge,e.webpack)}(this,function(e,t,o,r,n,a,i,c,u){o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var l={},s=function(){function e(){}return e.init=function(t,o){window.ReactRailsUJS.mountComponents=e.mountComponents,t.hot&&t.hot.accept(e.hmrModules(),function(t){e.fixDeps(t).forEach(function(e){return o(e)}),window.ReactRailsUJS.mountComponents()})},e.fixDeps=function(e){return n(e).flatten().uniq().value()},e.hmrModules=function(){return HMR_MODULES.map(function(e){return require.context("../").resolve(e)})},e.mountComponents=function(e){for(var n=window.ReactRailsUJS,a=n.findDOMNodes(e),i=0;i<a.length;++i){var c=a[i],u=c.getAttribute(n.CLASS_NAME_ATTR),s=n.getConstructor(u),p=c.getAttribute(n.PROPS_ATTR),f=p&&JSON.parse(p),d=c.getAttribute(n.RENDER_ATTR),R=c.getAttribute(n.CACHE_ID_ATTR),w=c.hasAttribute(n.TURBOLINKS_PERMANENT_ATTR);if(!s){var m="Cannot find component: '"+u+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+m+" for element","font-weight: bold","",c),new Error(m+". Make sure your component is available to render.")}var y=l[R];void 0===y&&(y=o.createElement(s,f),w&&(l[R]=y)),d&&"function"==typeof r.hydrate?r.hydrate(h(t.AppContainer,null,y),c):r.render(h(t.AppContainer,null,y),c)}},e}(),p=function(){function e(e){this.webpackConfig=e}var t=e.prototype;return t.walkSync=function(e,t){var o=this;return void 0===t&&(t=[]),i.readdirSync(e).forEach(function(r){var n=a.join(e,r);n.includes(".DS_Store")||n.includes("packs")||(i.statSync(n).isDirectory()?t=o.walkSync(n,t):t.push("./"+a.relative("app/javascript",n)))}),t},t.packFiles=function(){return this.walkSync("app/javascript")},t.entries=function(){var e=this;return Object.keys(this.webpackConfig.entry).reduce(function(t,o){return t[o]=["react-hot-loader/patch",e.webpackConfig.entry[o]],t},{})},t.reactRailsHotReloadConfig=function(){return{devtool:"cheap-eval-source-map",entry:this.entries(),output:{publicPath:"http://localhost:3035/packs/"},plugins:[new u.DefinePlugin({HMR_MODULES:JSON.stringify(this.packFiles())})],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}},watch:!1}},t.merge=function(e){return this.webpackConfig=e,c.merge(this.webpackConfig,this.reactRailsHotReloadConfig())},e}();module.exports=p,e.ReactRailsHotReload=s,e.ReactRailsHotReloadConfig=p});
//# sourceMappingURL=index.umd.js.map
